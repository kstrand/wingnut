(function(e){function S(t){return t&&t.allowPageScroll===undefined&&(t.swipe!==undefined||t.swipeStatus!==undefined)&&(t.allowPageScroll=u),t||(t={}),t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var n=e(this),r=n.data(w);r||(r=new x(this,t),n.data(w,r))})}function x(E,S){function J(t){if(gt())return;if(e(t.target).closest(S.excludedElements,F).length>0)return;var n=t.originalEvent,r,i=b?n.touches[0]:n;I=v,b?R=n.touches.length:t.preventDefault(),O=0,M=null,B=null,_=0,D=0,P=0,H=1,pinchDistance=0,U=St(),vt();if(!b||R===S.fingers||S.fingers===d||at()){bt(0,i),z=Ot(),R==2&&(bt(1,n.touches[1]),D=P=Tt(U[0].start,U[1].start));if(S.swipeStatus||S.pinchStatus)r=tt(n,I)}else r=!1;if(r===!1)return I=y,tt(n,I),r;yt(!0)}function K(e){var t=e.originalEvent;if(I===g||I===y||mt())return;var n,r=b?t.touches[0]:t,i=wt(r);W=Ot(),b&&(R=t.touches.length),I=m,R==2&&(D==0?(bt(1,t.touches[1]),D=P=Tt(U[0].start,U[1].start)):(wt(t.touches[1]),P=Tt(U[0].end,U[1].end),B=Ct(U[0].end,U[1].end)),H=Nt(D,P),pinchDistance=Math.abs(D-P));if(R===S.fingers||S.fingers===d||!b||at()){M=At(i.start,i.end),ot(e,M),O=kt(i.start,i.end),_=xt();if(S.swipeStatus||S.pinchStatus)n=tt(t,I);if(!S.triggerOnTouchEnd||S.triggerOnTouchLeave){var s=!0;if(S.triggerOnTouchLeave){var o=Mt(this);s=_t(i.end,o)}!S.triggerOnTouchEnd&&s?I=et(m):S.triggerOnTouchLeave&&!s&&(I=et(g)),(I==y||I==g)&&tt(t,I)}}else I=y,tt(t,I);n===!1&&(I=y,tt(t,I))}function Q(e){var t=e.originalEvent;if(b&&t.touches.length>0)return dt(),!0;mt()&&(R=V),e.preventDefault(),W=Ot();if(S.triggerOnTouchEnd||S.triggerOnTouchEnd==0&&I===m){I=g;var n=R===S.fingers||S.fingers===d||!b,r=U[0].end.x!==0,i=n&&r&&(ut()||lt());i?tt(t,I):(I=y,tt(t,I))}else I===m&&(I=y,tt(t,I));yt(!1)}function G(){R=0,W=0,z=0,D=0,P=0,H=1,vt(),yt(!1)}function Y(e){var t=e.originalEvent;S.triggerOnTouchLeave&&(I=et(g),tt(t,I))}function Z(){F.unbind(T,J),F.unbind(A,G),F.unbind(N,K),F.unbind(C,Q),L&&F.unbind(L,Y),yt(!1)}function et(e){var t=e,n=st(),r=rt();return n?r&&e==m&&(!S.triggerOnTouchEnd||S.triggerOnTouchLeave)?t=g:!r&&e==g&&S.triggerOnTouchLeave&&(t=y):t=y,t}function tt(e,t){var n=undefined;return ct()&&(n=nt(e,t,f)),at()&&n!==!1&&(n=nt(e,t,l)),pt()&&n!==!1&&(n=nt(e,t,c)),t===y&&G(e),t===g&&(b?e.touches.length==0&&G(e):G(e)),n}function nt(e,u,a){var h=undefined;if(a==f){if(S.swipeStatus){h=S.swipeStatus.call(F,e,u,M||null,O||0,_||0,R);if(h===!1)return!1}if(u==g&&lt()){if(S.swipe){h=S.swipe.call(F,e,M,O,_,R);if(h===!1)return!1}switch(M){case t:S.swipeLeft&&(h=S.swipeLeft.call(F,e,M,O,_,R));break;case n:S.swipeRight&&(h=S.swipeRight.call(F,e,M,O,_,R));break;case r:S.swipeUp&&(h=S.swipeUp.call(F,e,M,O,_,R));break;case i:S.swipeDown&&(h=S.swipeDown.call(F,e,M,O,_,R))}}}if(a==l){if(S.pinchStatus){h=S.pinchStatus.call(F,e,u,B||null,pinchDistance||0,_||0,R,H);if(h===!1)return!1}if(u==g&&ut())switch(B){case s:S.pinchIn&&(h=S.pinchIn.call(F,e,B||null,pinchDistance||0,_||0,R,H));break;case o:S.pinchOut&&(h=S.pinchOut.call(F,e,B||null,pinchDistance||0,_||0,R,H))}}return a==c&&u===y&&S.click&&(R===1||!b)&&(isNaN(O)||O===0)&&(h=S.click.call(F,e,e.target)),h}function rt(){return S.threshold!==null?O>=S.threshold:!0}function it(){return S.pinchThreshold!==null?pinchDistance>=S.pinchThreshold:!0}function st(){var e;return S.maxTimeThreshold?_>=S.maxTimeThreshold?e=!1:e=!0:e=!0,e}function ot(e,s){if(S.allowPageScroll===u||at())e.preventDefault();else{var o=S.allowPageScroll===a;switch(s){case t:(S.swipeLeft&&o||!o&&S.allowPageScroll!=h)&&e.preventDefault();break;case n:(S.swipeRight&&o||!o&&S.allowPageScroll!=h)&&e.preventDefault();break;case r:(S.swipeUp&&o||!o&&S.allowPageScroll!=p)&&e.preventDefault();break;case i:(S.swipeDown&&o||!o&&S.allowPageScroll!=p)&&e.preventDefault()}}}function ut(){return it()}function at(){return!!(S.pinchStatus||S.pinchIn||S.pinchOut)}function ft(){return!!ut()&&!!at()}function lt(){var e=st(),t=rt(),n=t&&e;return n}function ct(){return!!(S.swipe||S.swipeStatus||S.swipeLeft||S.swipeRight||S.swipeUp||S.swipeDown)}function ht(){return!!lt()&&!!ct()}function pt(){return!!S.click}function dt(){X=Ot(),V=event.touches.length+1}function vt(){X=0,V=0}function mt(){var e=!1;if(X){var t=Ot()-X;t<=S.fingerReleaseThreshold&&(e=!0)}return e}function gt(){return F.data(w+"_intouch")===!0}function yt(e){e===!0?(F.bind(N,K),F.bind(C,Q),L&&F.bind(L,Y)):(F.unbind(N,K,!1),F.unbind(C,Q,!1),L&&F.unbind(L,Y,!1)),F.data(w+"_intouch",e===!0)}function bt(e,t){var n=t.identifier!==undefined?t.identifier:0;return U[e].identifier=n,U[e].start.x=U[e].end.x=t.pageX,U[e].start.y=U[e].end.y=t.pageY,U[e]}function wt(e){var t=e.identifier!==undefined?e.identifier:0,n=Et(t);return n.end.x=e.pageX,n.end.y=e.pageY,n}function Et(e){for(var t=0;t<U.length;t++)if(U[t].identifier==e)return U[t]}function St(){var e=[];for(var t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}function xt(){return W-z}function Tt(e,t){var n=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+r*r))}function Nt(e,t){var n=t/e*1;return n.toFixed(2)}function Ct(){return H<1?o:s}function kt(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}function Lt(e,t){var n=e.x-t.x,r=t.y-e.y,i=Math.atan2(r,n),s=Math.round(i*180/Math.PI);return s<0&&(s=360-Math.abs(s)),s}function At(e,s){var o=Lt(e,s);return o<=45&&o>=0?t:o<=360&&o>=315?t:o>=135&&o<=225?n:o>45&&o<135?i:r}function Ot(){var e=new Date;return e.getTime()}function Mt(t){t=e(t);var n=t.offset(),r={left:n.left,right:n.left+t.outerWidth(),top:n.top,bottom:n.top+t.outerHeight()};return r}function _t(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}var x=b||!S.fallbackToMouseEvents,T=x?"touchstart":"mousedown",N=x?"touchmove":"mousemove",C=x?"touchend":"mouseup",L=x?null:"mouseleave",A="touchcancel",O=0,M=null,_=0,D=0,P=0,H=1,B=0,F=e(E),I="start",R=0,U=null,z=0,W=0,X=0,V=0;try{F.bind(T,J),F.bind(A,G)}catch($){e.error("events not supported "+T+","+A+" on jQuery.swipe")}this.enable=function(){return F.bind(T,J),F.bind(A,G),F},this.disable=function(){return Z(),F},this.destroy=function(){return Z(),F.data(w,null),F}}0/0;var t="left",n="right",r="up",i="down",s="in",o="out",u="none",a="auto",f="swipe",l="pinch",c="click",h="horizontal",p="vertical",d="all",v="start",m="move",g="end",y="cancel",b="ontouchstart"in window,w="TouchSwipe",E={fingers:1,threshold:75,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, a, .noSwipe"};e.fn.swipe=function(t){var n=e(this),r=n.data(w);if(r&&typeof t=="string"){if(r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on jQuery.swipe")}else if(!r&&(typeof t=="object"||!t))return S.apply(this,arguments);return n},e.fn.swipe.defaults=E,e.fn.swipe.phases={PHASE_START:v,PHASE_MOVE:m,PHASE_END:g,PHASE_CANCEL:y},e.fn.swipe.directions={LEFT:t,RIGHT:n,UP:r,DOWN:i,IN:s,OUT:o},e.fn.swipe.pageScroll={NONE:u,HORIZONTAL:h,VERTICAL:p,AUTO:a},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:d}})(jQuery);